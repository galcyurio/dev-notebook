public void init(ServletConfig config) throws ServletException {
	application = config.getServletContext();

	tempDir = config.getInitParameter("tempDir"); 
	tempPath = application.getRealPath(tempDir);

	dataDir = config.getInitParameter("dataDir");
	dataPath = application.getRealPath(dataDir);

	factory = new DiskFileItemFactory(tempSize, new File(tempPath));
	upload = new ServletFileUpload(factory);
}